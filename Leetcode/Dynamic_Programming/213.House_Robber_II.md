
# 213. House Robber II

## Problem Description

You are a robber planning to rob houses arranged in a **circle**.

* Each house has some money.
* You **cannot rob two adjacent houses**, or the alarm will trigger.
* Since houses are in a circle, the **first and last houses are also adjacent**.

Return the maximum money you can rob without alerting the police.

---

## Example

### Input 1:

```
nums = [2,3,2]
```

### Output 1:

```
3
```

Explanation: You cannot rob both `2` (first house) and `2` (last house). The best option is rob house 2 → total = `3`.

---

### Input 2:

```
nums = [1,2,3,1]
```

### Output 2:

```
4
```

Explanation: Rob house 1 (1) and house 3 (3) → total = `4`.

---

### Input 3:

```
nums = [1,2,3]
```

### Output 3:

```
3
```

---

## Code (C++)

```cpp
class Solution {
public:
    int compute(vector<int>& nums) {
        int prev = nums[0], prev2 = 0, n = nums.size();
        int cur = 0;
        
        for(int i=1; i<n; i++){
            int take = nums[i];
            if(i > 1) take += prev2;   // take current + dp[i-2]
            int nottake = prev;        // skip current → dp[i-1]

            cur = max(take, nottake);
            prev2 = prev;
            prev = cur;
        }
        return prev;
    }

    int rob(vector<int>& nums) {
        int n = nums.size();
        if(n == 1) return nums[0]; // only one house

        vector<int> temp1, temp2;
        
        // Case 1: Exclude first house
        for(int i=1; i<n; i++) temp1.push_back(nums[i]);
        // Case 2: Exclude last house
        for(int i=0; i<n-1; i++) temp2.push_back(nums[i]);
        
        return max(compute(temp1), compute(temp2));
    }
};
```

---

## Approach

* This is an extension of **House Robber I**.
* Since houses form a **circle**, the first and last house cannot both be robbed.
* Therefore, split into two cases:

  1. Rob houses from **1 → n-1** (exclude first).
  2. Rob houses from **0 → n-2** (exclude last).
* Run the standard **House Robber DP** on both cases.
* Answer = `max(case1, case2)`.

---

## Complexity

* **Time:** `O(n)` → Linear scan for each case.
* **Space:** `O(1)` → Only a few variables used.

---
